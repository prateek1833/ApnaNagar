<style>
  .offcanvas {
      width: 90% !important; /* Ensures the sidebar covers only 75% of the screen */
  }
</style>

<div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
  <!-- Close Button -->
  <div class="offcanvas-header">
      <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>

  <div class="offcanvas-body">
      <% if (currUser) { %>
          <div class="d-flex flex-column w-100">
              <h3 class="offcanvas-title">
                  <%= currUser.username %>
                </h3>
                  <% if(currUser.type=='User'){ %>
                    <p class="text-muted fs-8">
                        <a href="/owner/<%= currUser._id %>/edit" style="text-decoration: none;">Edit Profile</a>
                    </p>
                    <% }else{ %>
                        <p class="text-muted fs-8">
                            <a href="/employee/<%= currUser._id %>/profile" style="text-decoration: none;">Profile</a>
                        </p>
                        <% } %>
              <div class="accordion" id="accordionExample">
                  <!-- Accordion Sections -->
                  <div class="accordion-item">
                      <h2 class="accordion-header">
                          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                              data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                              Address
                          </button>
                      </h2>
                      <div id="collapseOne" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                          <div class="accordion-body">
                              <%= currUser.area %>, <%= currUser.district %>, <%= currUser.state %>
                          </div>
                      </div>
                  </div>
                  <!-- Additional Accordion Items -->
                  <div class="accordion-item">
                      <h2 class="accordion-header">
                          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                              data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                              Mobile Number
                          </button>
                      </h2>
                      <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                          <div class="accordion-body">
                              <%= currUser.mobile %>
                          </div>
                      </div>
                  </div>
                  <div class="accordion-item">
                      <h2 class="accordion-header">
                          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                              data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                              Balance Due
                          </button>
                      </h2>
                      <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                          <div class="accordion-body">
                              <%= currUser.balance_due %>
                          </div>
                      </div>
                  </div>
                  <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
                            data-bs-target="#collapseSix" aria-expanded="false" aria-controls="collapseSix">
                            Install as app
                        </button>
                    </h2>
                    <div id="collapseSix" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                        <div class="accordion-body">
                            <iframe 
                                width="250" 
                                height="420" 
                                src="https://www.youtube.com/embed/lT8vNY3-hV4" 
                                frameborder="0" 
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                allowfullscreen>
                            </iframe>
                        </div>
                    </div>                    
                  </div>
                  <div class="accordion-item">
                      <h2 class="accordion-header">
                          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                              data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                              Contact us
                          </button>
                      </h2>
                      <div id="collapseFour" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                          <div class="accordion-body">
                              <i class="fa-solid fa-phone"></i>: <a style="text-decoration: none;"
                                  href="tel:6391837992">6391837992</a>
                              <br>
                              <i class="fa-solid fa-envelope"></i>: <a style="text-decoration: none;"
                                  href="mailto:kumarprateek1833@gmail.com">kumarprateek1833@gmail.com</a>
                          </div>
                      </div>
                  </div>
                  <div class="accordion-item">
                      <h2 class="accordion-header">
                          <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                              data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                              About the developer
                          </button>
                      </h2>
                      <div id="collapseFive" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                          <div class="accordion-body">
                              <i class="fa-solid fa-link"></i>: <a style="text-decoration: none;"
                                  href="http://prateek1833.github.io/">Prateek Kumar</a>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      <% } %>


      <div class="navbar-nav ms-auto mt-4 d-flex flex-column gap-2">

    <% if (!currUser) { %>
        <a href="/signup" class="btn btn-success w-100 d-flex align-items-center justify-content-center gap-2">
            <i class="fa-solid fa-user-plus"></i> Sign Up
        </a>
        <a href="/login" class="btn btn-outline-success w-100 d-flex align-items-center justify-content-center gap-2">
            <i class="fa-solid fa-right-to-bracket"></i> Log In
        </a>
        <div class="mt-3 text-center text-muted" style="font-size: 0.9rem;">
        <hr>
        <a href="http://prateek1833.github.io/" class="text-decoration-none text-muted">About the Developer</a>
    </div>
    <% } %>

    <% if (currUser) { %>
        <a href="/logout" class="btn btn-danger w-100 d-flex align-items-center justify-content-center gap-2">
            <i class="fa-solid fa-right-from-bracket"></i> Log Out
        </a>
    <% } %>
</div>

  </div>
</div>
