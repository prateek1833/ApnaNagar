<% layout('../layout/boilerplate') -%>
<div class="container">

    <section class="text-center statistics">
        <br>
        <h5>Last Three Days Statistics</h6>
        <hr>
        <canvas id="earningsChart"></canvas>
        <canvas id="deliveriesChart"></canvas>
        <canvas id="platformChargesChart"></canvas>
    </section>

</div>

<!-- Include Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    // Data for Earnings Chart
    const earningsCtx = document.getElementById('earningsChart').getContext('2d');
    new Chart(earningsCtx, {
        type: 'bar',
        data: {
            labels: ['Today', 'Yesterday', 'Parso'],
            datasets: [{
                label: "Sells (₹)",
                data: [<%= todayEarnings %>, <%= yesterdayEarnings %>, <%= dayBeforeYesterdayEarnings %>],
                backgroundColor: ['#6A0DAD', '#6A0DAD', '#6A0DAD'],
                borderColor: ['#6A0DAD', '#6A0DAD', '#6A0DAD'],
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            scales: {
                y: { beginAtZero: true }
            }
        }
    });

    // Data for Deliveries Chart
    const deliveriesCtx = document.getElementById('deliveriesChart').getContext('2d');
    new Chart(deliveriesCtx, {
        type: 'bar',
        data: {
            labels: ['Today', 'Yesterday', 'Parso'],
            datasets: [{
                label: "Delivery Charge",
                data: [<%= todayDeliveries %>, <%= yesterdayDeliveries %>, <%= dayBeforeYesterdayDeliveries %>],
                backgroundColor: ['#BA4185', '#BA4185', '#BA4185'],
                borderColor: ['#BA4185', '#BA4185', '#BA4185'],
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            scales: {
                y: { beginAtZero: true }
            }
        }
    });

    // Data for Platform Charges Chart
    const platformChargesCtx = document.getElementById('platformChargesChart').getContext('2d');
    new Chart(platformChargesCtx, {
        type: 'bar',
        data: {
            labels: ['Today', 'Yesterday', 'Parso'],
            datasets: [{
                label: "Platform Charges (₹)",
                data: [<%= todayPlatformCharges %>, <%= yesterdayPlatformCharges %>, <%= dayBeforeYesterdayPlatformCharges %>],
                backgroundColor: ['#FF6F61', '#FF6F61', '#FF6F61'],
                borderColor: ['#FF6F61', '#FF6F61', '#FF6F61'],
                borderWidth: 1
            }]
        },
        options: {
            responsive: true,
            scales: {
                y: { beginAtZero: true }
            }
        }
    });
</script>
